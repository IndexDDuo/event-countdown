(()=>{"use strict";var e={5012:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(885),o=n(5861),a=n(1553),i=n(4333),l=n(1133),d=n(5690),s=n(7377),u=n(9526),c=n(4942),f=n(9566),g=n(196),h=n(4637),m=n(8576),p=n(5712),v=n(8138),y=n(9317),x=n(5640),b=(n(2335),n(5519)),j=n(1451),D=n(1074),w=n(7557);function O(){return O=(0,o.default)((function*(e){return e.map(function(){var e=(0,o.default)((function*(e){return yield v.loadAsync(e)}));return function(t){return e.apply(this,arguments)}}())})),O.apply(this,arguments)}function C(e){e.navigation;var t=e.route;!function(e){O.apply(this,arguments)}([y.default.font]);var n=t.params,r=n.name,o=n.date,a=n.desc,i=n.reminder,d=n.reminderTime;console.log(r+o+a);return(0,w.jsx)(x.SafeAreaView,{children:(0,w.jsxs)(l.default,{children:[(0,w.jsxs)(l.default,{style:T.detailContainer,children:[(0,w.jsxs)(p.Text,{style:T.name,children:["Event Name: ",r]}),(0,w.jsxs)(p.Text,{style:T.date,children:["Event occurs on: ",o]}),(0,w.jsx)(p.Text,{children:function(e){if(1==e)return(0,w.jsx)(l.default,{children:(0,w.jsxs)(p.Text,{children:["You will be reminded on: ",d]})})}(i)})]}),(0,w.jsx)(l.default,{style:T.timerCircle,children:(0,w.jsx)(D.CountdownCircleTimer,{isPlaying:!0,duration:function(e){var t=Date.now()/1e3,n=new Date(e).getTime()/1e3;console.log("now: "+t+"datedue; "+n);var r=Math.round(n-t);return console.log(r),r}(o),colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[10,6,3,0],onComplete:function(){return{shouldRepeat:!1}},children:function(e){var t=e.remainingTime;if(0===t)return(0,w.jsx)(p.Text,{style:T.completedText,children:"Event countdown completed!"});var n=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%86400/3600/60),a=t%60;return(0,w.jsxs)(l.default,{children:[(0,w.jsx)(p.Text,{children:"Remaining"}),(0,w.jsxs)(p.Text,{children:[n," days ",r,":",o,":",a]})]})}})}),(0,w.jsxs)(p.Text,{style:T.desc,children:["Event Description: ",a]})]})})}var T=i.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center"},title:{fontWeight:"bold"},completedText:{marginLeft:40},timerCircle:{alignItems:"center",margin:50,alignContent:"center"},detailContainer:{alignItems:"center",padding:20,marginBottom:10,backgroundColor:"#DDDDDD"},name:{textAlign:"center",backgroundColor:"#CCB3AD",paddingVertical:20,paddingHorizontal:50,marginHorizontal:20,borderRadius:20,marginBottom:20},date:{textAlign:"center",backgroundColor:"#CCB3AD",paddingVertical:20,paddingHorizontal:10,marginHorizontal:20,borderRadius:20},desc:{textAlign:"left",backgroundColor:"#CCB3AD",paddingVertical:20,marginHorizontal:20,paddingHorizontal:10,borderRadius:20,paddingBottom:150}});function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){return R=(0,o.default)((function*(e){return e.map(function(){var e=(0,o.default)((function*(e){return yield v.loadAsync(e)}));return function(t){return e.apply(this,arguments)}}())})),R.apply(this,arguments)}function k(e){var t=e.navigation;e.route;!function(e){R.apply(this,arguments)}([y.default.font]);var n=(0,u.useState)([]),a=(0,r.default)(n,2),i=a[0],d=a[1],s=(0,u.useState)(!1),c=(0,r.default)(s,2),v=c[0],D=c[1],O=(0,u.useState)(!1),C=(0,r.default)(O,2),T=C[0],S=C[1],k=[];function E(e){var t=Date.now(),n=new Date(e);return Math.round(Math.abs((t-n)/864e5))}function V(e){return Date.now()<new Date(e)?(0,w.jsxs)(p.Text,{children:[E(e)," days left until ",e]}):(0,w.jsxs)(p.Text,{children:[E(e)," days since ",e]})}(0,u.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{var e=yield b.default.getAllKeys(),t=yield b.default.multiGet(e);console.log("All events:",t),console.log("items"+t.length);for(var n=0;n<t.length;n++)if("EXPO_CONSTANTS_INSTALLATION_ID"!=t[n][0]){var r=A(A({},JSON.parse(t[n][1])),{},{eventKey:t[n][0]});k.push(r)}k.sort((function(e,t){var n=new Date(e.eventDate),r=new Date(t.eventDate),o=Date.now();return n<o&&r<o?n-r:n<o?1:r<o?-1:n-r})),d(k)}catch(o){console.log(o)}}));return function(){return e.apply(this,arguments)}}();e(),S(!1)}),[T]),(0,u.useEffect)((function(){console.log("App.js "+v)}),[v]);var B=(0,u.useState)({}),M=(0,r.default)(B,2),I=M[0],N=M[1],H=(0,u.useState)(""),_=(0,r.default)(H,2),z=_[0],F=_[1],W=function(e){var t=e.name,n=e.date,r=e.desc,o=e.reminder,a=e.reminderTime,i=e.eventKey;return(0,w.jsx)(l.default,{children:(0,w.jsxs)(j.default,{style:P.eventStyle,onPress:function(){!function(e,t,n,r,o,a,i){D(!0),N({name:t,date:n,desc:r,reminder:o,reminderTime:a}),F(i)}(0,t,n,r,o,a,i)},children:[(0,w.jsx)(p.Text,{style:P.eventNameStyle,children:t}),(0,w.jsx)(p.Text,{style:P.eventDateStyle,children:V(n)})]})})},K=function(){var e=(0,o.default)((function*(e){try{return yield b.default.removeItem(e),console.log(e+" deleted"),!0}catch(t){return!1}}));return function(t){return e.apply(this,arguments)}}();return(0,w.jsx)(x.SafeAreaView,{style:P.container,children:(0,w.jsx)(m.default,{style:{height:"100%"},children:(0,w.jsxs)(l.default,{children:[(0,w.jsx)(j.default,{onPress:function(){S(!0)},children:(0,w.jsx)(p.Text,{style:P.refreshStyle,children:"Refresh"})}),(console.log("length"+i.length),i.length>0?(0,w.jsx)(l.default,{children:(0,w.jsx)(f.default,{data:i,renderItem:function(e){var t=e.item;return(0,w.jsx)(W,{name:t.eventName,date:t.eventDate,desc:t.eventDesc,reminder:t.reminder,reminderTime:t.reminderTime,eventKey:t.eventKey})}})}):(0,w.jsx)(l.default,{children:(0,w.jsx)(p.Text,{children:'Add an event by pressing the "ADD" button!'})})),(0,w.jsx)(g.default,{animationType:"none",transparent:!0,visible:v,onRequestClose:function(){Alert.alert("Modal has been closed."),D(!1)},children:(0,w.jsx)(l.default,{style:P.centeredView,children:(0,w.jsxs)(l.default,{style:P.modalView,children:[(0,w.jsx)(p.Text,{style:P.modalText,children:"What would you like to do?"}),(0,w.jsx)(h.default,{style:[P.button,P.buttonView],onPress:function(){D(!1),t.navigate("Detail",I)},children:(0,w.jsx)(p.Text,{style:P.textStyle,children:"Detail"})}),(0,w.jsx)(h.default,{style:[P.button,P.buttonDelete],onPress:function(){D(!1),K(z)},children:(0,w.jsx)(p.Text,{style:P.textStyle,children:"Delete"})}),(0,w.jsx)(h.default,{style:[P.button,P.buttonEdit],onPress:function(){D(!1)},children:(0,w.jsx)(p.Text,{style:P.textStyle,children:"Cancel"})})]})})})]})})})}var P=i.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center"},title:{fontWeight:"bold"},eventStyle:{padding:20,paddingHorizontal:70,marginBottom:10,backgroundColor:"#DDDDDD"},eventNameStyle:{textAlign:"center",backgroundColor:"#CCB3AD",paddingVertical:20,marginHorizontal:25,borderRadius:20},eventDateStyle:{textAlign:"center",backgroundColor:"#CCB3AD",paddingVertical:20,paddingHorizontal:5,marginTop:2,borderRadius:5},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,marginBottom:5,elevation:2,width:80},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"},buttonEdit:{backgroundColor:"#2196F3"},buttonDelete:{backgroundColor:"#DD5437"},buttonView:{backgroundColor:"#2db300"},refreshStyle:{margin:5,marginRight:250,backgroundColor:"white",borderRadius:20,padding:5,textAlign:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5}}),E=n(3497),V=n(8859),B=n(4418);n(8803),n(1565),n(8217);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(){return N=(0,o.default)((function*(e){return e.map(function(){var e=(0,o.default)((function*(e){return yield v.loadAsync(e)}));return function(t){return e.apply(this,arguments)}}())})),N.apply(this,arguments)}function H(e){var t=e.navigation,n=e.route;!function(e){N.apply(this,arguments)}([y.default.font]);var o=n.params,a=o.modalVisible,i=o.setModalVisible,d=o.eventData,s=o.setEventData,c=(0,u.useState)(d.eventAllDay),f=(0,r.default)(c,2),v=f[0],b=f[1],j=(0,u.useState)(d.eventReminder),D=(0,r.default)(j,2),O=D[0],C=D[1],T=(0,u.useState)(d),S=(0,r.default)(T,2),A=S[0],R=S[1],k=(0,u.useState)(!1),P=(0,r.default)(k,2),M=P[0],H=P[1],z={marginTop:M?275:0},F=(0,u.useState)(!1),W=(0,r.default)(F,2),K=W[0],L=W[1],q={marginTop:K?275:0};(0,u.useEffect)((function(){console.log("modalVisible is "+a+" in Edit.")}),[i]);var G=(0,u.useState)(new Date),J=(0,r.default)(G,2),X=(J[0],J[1],(0,u.useState)("y-MM-dd h:mm:ss a")),Y=(0,r.default)(X,2),Q=Y[0],U=Y[1],Z=(0,u.useState)(!1),$=(0,r.default)(Z,2),ee=$[0],te=$[1];return(0,u.useEffect)((function(){1==A.eventAllDay?(console.log("all day set to true"),U("y-MM-dd")):(console.log("all day set to false"),U("y-MM-dd h:mm:ss a"))}),[A.eventAllDay]),(0,u.useEffect)((function(){1==A.eventReminder?(console.log("reminder set to true"),te(!0)):(te(!1),console.log("reminder set to false"))}),[A.eventReminder]),(0,w.jsxs)(x.SafeAreaView,{children:[(0,w.jsxs)(m.default,{style:{height:"100%"},children:[(0,w.jsxs)(l.default,{children:[(0,w.jsx)(p.Text,{style:_.inputText,children:"Event Name:"}),(0,w.jsx)(E.default,{style:_.input,onChangeText:function(e){R(I(I({},A),{},{eventName:e})),s(I(I({},A),{},{eventName:e}))}}),(0,w.jsx)(p.Text,{style:_.inputText,children:"Event Date:"}),(0,w.jsx)(B.default,{onChange:function(e){var t;t=1==A.eventAllDay?e.toISOString().substr(0,10):e,console.log(t),R(I(I({},A),{},{eventDate:t})),s(I(I({},A),{},{eventDate:t}))},value:A.eventDate,format:Q,isCalendarOpen:!1,calendarIcon:null,closeWidgets:!1,open:!0,onCalendarOpen:function(){H(!0)},onCalendarClose:function(){H(!1)},isClockOpen:!1,disableClock:!0})]}),(0,w.jsxs)(l.default,{style:z,children:[(0,w.jsx)(p.CheckBox,{title:"All day?",checked:v,onPress:function(){b(!v),R(I(I({},A),{},{eventAllDay:!v})),s(I(I({},A),{},{eventAllDay:!v}))}}),(0,w.jsxs)(l.default,{style:_.reminderBox,children:[(0,w.jsx)(p.Text,{style:_.inputText,children:"Reminder:"}),(0,w.jsx)(p.CheckBox,{title:"Reminder?",checked:O,onPress:function(){C(!O),R(I(I({},A),{},{eventReminder:!O})),s(I(I({},A),{},{eventReminder:!O}))}}),ee&&(0,w.jsx)(B.default,{onChange:function(e){var t;t=1==A.eventReminder?e:"",console.log(t),R(I(I({},A),{},{eventReminderDate:t})),s(I(I({},A),{},{eventReminderDate:t}))},value:A.eventReminderDate,format:"y-MM-dd h:mm:ss a",isCalendarOpen:!1,calendarIcon:null,closeWidgets:!1,open:!0,onCalendarOpen:function(){L(!0)},onCalendarClose:function(){L(!1)},isClockOpen:!1})]}),(0,w.jsxs)(l.default,{style:q,children:[(0,w.jsx)(p.Text,{style:_.inputText,children:"Event Description:"}),(0,w.jsx)(E.default,{style:(_.input,_.descriptionInput),onChangeText:function(e){R(I(I({},A),{},{eventDescription:e})),s(I(I({},A),{},{eventDescription:e}))}})]})]})]}),(0,w.jsx)(g.default,{animationType:"none",transparent:!0,visible:a,onRequestClose:function(){V.default.alert("Modal has been closed."),i(!1)},children:(0,w.jsx)(l.default,{style:_.centeredView,children:(0,w.jsxs)(l.default,{style:_.modalView,children:[(0,w.jsx)(p.Text,{style:_.modalText,children:"Saved!"}),(0,w.jsx)(h.default,{style:[_.button,_.buttonClose],onPress:function(){i(!1),t.navigate("Home")},children:(0,w.jsx)(p.Text,{style:_.textStyle,children:"Ok"})})]})})})]})}var _=i.default.create({container:{flex:1,alignItems:"center"},title:{fontWeight:"bold"},input:{borderWidth:2,marginHorizontal:5,borderRadius:15,borderColor:"#008ae6",marginBottom:20,paddingBottom:10},inputText:{margin:5,marginLeft:5,fontSize:18},reminderBox:{marginTop:20,marginBottom:20},descriptionInput:{borderWidth:2,marginHorizontal:5,borderRadius:15,borderColor:"#008ae6",marginBottom:20,paddingBottom:400},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2,width:80},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),z=(0,s.default)(),F=function(){var e=(0,o.default)((function*(e,t){try{yield b.default.setItem(e,JSON.stringify(t)),console.log("stored!")}catch(n){console.log(n)}}));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)((function*(){try{var e=yield b.default.getAllKeys(),t=yield b.default.multiGet(e);console.log("All items:",t)}catch(n){console.log(n)}}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,o.default)((function*(e,t,n,r,o){t(!0),console.log("save button is pressed. app.js  "+e),n.navigate("Edit",{modalVisible:!0});var a={eventName:r.eventName,eventDate:r.eventDate,allDay:r.eventAllDay,reminder:r.eventReminder,reminderTime:r.eventReminderDate,eventDesc:r.eventDescription},i=Date.now().toString();yield F(i,a),W()}));return function(t,n,r,o,a){return e.apply(this,arguments)}}();function L(){var e=(0,u.useState)(!1),t=(0,r.default)(e,2),n=t[0],o=t[1],i=(0,u.useState)({eventName:"",eventDate:new Date,eventAllDay:!1,eventReminder:!1,eventReminderDate:new Date,eventDescription:""}),s=(0,r.default)(i,2),c=s[0],f=s[1];return(0,u.useEffect)((function(){console.log("App.js "+n)}),[n]),(0,w.jsx)(d.default,{children:(0,w.jsxs)(z.Navigator,{initialRouteName:"Home",children:[(0,w.jsx)(z.Screen,{name:"Home",component:k,options:function(e){var t=e.navigation;return{title:"Events",headerRight:function(){return(0,w.jsx)(l.default,{style:q.button,children:(0,w.jsx)(a.default,{title:"Add",onPress:function(){t.navigate("Edit")}})})}}}}),(0,w.jsx)(z.Screen,{name:"Detail",component:C,options:{title:"Event Detail"}}),(0,w.jsx)(z.Screen,{name:"Edit",component:H,options:function(e){var t=e.navigation;return{title:"Create New Event",headerRight:function(){return(0,w.jsx)(l.default,{style:q.button,children:(0,w.jsx)(a.default,{title:"Save",onPress:function(){K(n,o,t,c,f)}})})}}},initialParams:{setModalVisible:o,modalVisible:n,eventData:c,setEventData:f}})]})})}var q=i.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},button:{marginRight:20}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],l=!0,d=0;d<r.length;d++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[d])))?r.splice(d--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/event-countdown/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,l,d]=r,s=0;if(i.some((t=>0!==e[t]))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(d)var u=d(n)}for(t&&t(r);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[17],(()=>n(9484)));r=n.O(r)})();
//# sourceMappingURL=main.ada1f877.js.map